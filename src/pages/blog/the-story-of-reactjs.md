---
title: "القصة وراء مكتبة رياكت"
layout: ../../layouts/blog.astro
image: /images/what-is-deno.png
link: /blog/the-story-of-reactjs
date: '2022/05/02'
dateModified: '2022/05/02'
desc: 'سوف أتناول قصة مكتبة رياكت وكيف وصلنا إلى هذه المرحلة في مكتبات جافاسكربت'
tags: ["React", "NodeJS", "JavaScript", "JS", "ReactJS", "React"]
---

أثناء محاولتي لتطوير مقالة رياكت في ويكيبيديا العربية، اتضطرت للرجوع قليلًا إلى تاريخ رياكت، كيف بدأت ولماذا اختراعتها فيسبوك ومن الشخص الذي اختراعها... كانت قصة مثيرة... عن تلك المشاكل التي كانت تواجه مطوري الويب آنذاك والحل الذي أتت به رياكت.  

## نبذة سريعة عن رياكت
رياكت هي مكتبة جافاسكربت، متخصصة بالواجهات المستخدم التفاعلية (Interactive UI) تُستخدم بشكل شائع في الكثير من المواقع وحتى في تطوير تطبيقات الهواتف. تم إتاحة المكتبة كمشروع مفتوح المصدر في عام 2013، وكما تم العمل على تطوير تقنية رياكت نتيف في 2015 وإتاحتها كمشروع مفتوح المصدر كذلك. مضت 9 سنوات -لحظة كتابة هذه التدوينة- على الإطلاق الرسمي لرياكت أي قرابة عقد من الزمان، خلالها تطورت المكتبة نفسها وطورت معها حتى طرق التفكير والبرمجة في واجهات المستخدم.

## القصة
### البدايات
في عام 2011 وفي داخل شركة فيسبوك -شركة ميتا حاليًا- أحد المُطورين ويُدعى جوردان والكي (Jordan Walke) كان قد أدرك مشكلة "تعقيد بناء التطبيقات الويب"، خصوصًا فيما يتعلق بواجهات المستخدم (UI) عندما تصبح واجهة المستخدم أكبر وأعقد مع مرور الوقت واستمرار التطوير عليها، فيُصبح من الصعب إدارتها والتعديل عليها وصيانتها.

مكتبات التعامل مع واجهة المستخدم في "ذلك الوقت" لم تكن تقدم **الحل المناسب** بحسب وجهة نظر جوردان فهي بحاجة لكثير من التفاصيل، وكلما كبر المشروع أكثر فأكثر تجعل المبرمج يفكر في أمور أخرى أكثر من تفكيره في واجهة المستخدم ذاتها، أحد أهم هذه الأمور هو التفكير في التغييرات التي يلزُم أن تتم على العناصر في الصفحة (Dom Mutation) عندما يتفاعل المستخدم أحد المكونات في الواجهة.

أرد جوردان شيئًا مختلفًا، شيئًا أقل تعقيدًا من وجهة نظره، لذلك قرر العمل فكرة وعرضها على زملاءه في العمل بفيسبوك وذلك بإنشاء مكتبة [FaxJS](https://github.com/jordwalke/FaxJs/commit/660c868589b653a627d64506b8f6f7e3b3620c02) كنموذج مبدئي (قبل أن يتم تسمية المشروع React)، وفكرتها هي أن تساعد على إنشاء العناصر التفاعلية بطريقة برمجية تصريحية (Declarative) وعبر جوردان عن فكرته بأنها "طريقة لإنشاء مُكونات تصريحية (Declarative Components)" أي مفهومة وواضحة، على خلاف الطريقة الأمرية (imperative) التي تتطلب ذكر تفاصيل كثيرة، وبدلًا من أن ينشغل بالك بكل التفاصيل، ليس عليك إلا قول ما تريد فعله "تصريحه".
وحتى لا تتعقد الأمور ويتشتت التفكير في البيانات وتغيراتها، أرد جوردان أيضًا أن يتم تتبع كل تلك التغيرات (Dom Mutation) وتصيرها في العناصر بطريقة سهلة دون التفكير في تفاصيلها، وفي وقتٍ لاحق قام أيضًا بتوفير طريقة كتابة اختيارية لعناصر الواجهة سماها (JSX) تُساعد على وصف شكل المكون بسهولة وقد أستلهمها من Ecmascript For Xml و XHP.

 قدم توم أوكينو (Tom Occhino) هو و جوردان والكي (Jordan Walke) للعيان في حدث JSConf US 2013 مكتبة رياكت التي عمل عليها هو وفريق من موظفي فيسبوك وقد تم جعلها مشروعًا مفتوح المصدر قبل العرض بـ نصف ساعة.

![صورة لطريقة كتابة JSX من العرض التقديمي الأول لرياكت في عام 2013 والذي قدمه جوردان في JSConf US.](/images/react/React-JSConf2013-JSX.png)
![صورة للكود ذاته ولن بدون JSX. مأخؤذة من عرض جوردان التقديمي JSConf US 2013.](/images/react/React-JSConf2013-Function-Make-Element.png)

أشر جوردان في العرض أن الهدف من رياكت لا يقتصر فقط بتقديم طريقة سهلة لوصف العناصر (عناصر HTML) برمجيًا، بل أيضًا توفير إمكانية لإعادة استخدامها كمكون مخصص (Custom Component)، بطريقة مُبسطة ومُجردة بكل سهولة.

![مكون رياكت (React Component) قابل لإعادة الإستخدام في الأعلى طريقة تعريف المكون، بينما في الأسفل طريقة إعادة استخدام المكون، من عرض جوردان JSConf US 2013.](/images/react/React-JSconf2013-ReactComponent.png)

طريقة القولبة (templating) في JSX مرنة جدًا، لست فقط تستطيع تمرير النصوص بين المكونات، بل حتى تمرير بعض العمليات البرمجية على هيئة دوال (Functions).
![جوردان يوضح للحضور إمكانية تمرير دالة للمكون واستخدماها مع الأحداث حيث استخدمها مع الحدث "onClick", الصورة مأخوذة من JSConf US 2013.](/images/react/React-JSconf2013-ReactComponentPassFunc.png)

يتيح JSX ايضًا تنفيذ تعبيرات جافاسكربت في داخل القالب نفسه، ويتم تطبيق تلك التغيرات دومًا عند تغير حالة المكون.
![يوضح جوردان، إمكانية وضع تعبير جافاسكربتي داخل القالب وقد قام بتطبيق وظيفة toUpperCase التي تجعل اﻷحرف الإنجليزية كبيرة، صورة من عرض جوردان JSConf US 2013.](/images/react/React-JSconf2013-JSXWithJSExpression.png)

وبهذه الطريقة سوف تحصل على "مكون" يؤدي وظيفة معينة، هذا المكون تستطيع إعادة أستخدامه مرارًا وتكرارًا في أجزاء مختلفة من واجهة المستخدم.

رياكت لا تجعلك تفكر في البيانات في الجهتين (two-way data binding) من منظور MVC بل تفكر في البيانات من منطلق أوحادي الإتجاه (one-directional data binding) حيث لا تلقي رياكت أي أهتمام بالتغييرات (Mutation) التي سوف تطرأ على الحالة في المكون وعندما تتغير حالة البيانات تقوم رياكت بإعادة توليد المكون من جديد بالكامل. 

تبدو فكرة سخيفة نوعًا ما وليست ذات كفاءة وهذا ما قاله توم أوكينو (Tom Occhino) للحضور أثناء بداية العرض واستعراض رياكت، وشرح لهم أن أتت رياكت بحل وهو عمل نسخة من المستند الحالي (DOM) وإجراء التغيرات فيها ومن ثم مقارنة تلك التغيرات مع المستند الفعلي وتطبيق ما تم تغيره وهذا ما يسمى بـ VDOM (Virtual DOM). وأشار توم أيضًا إلى أنه قد تم استخدام رياكت بالفعل في مشاريع داخلية في فيسبوك على موقع فيسبوك الرسمي، وعلى منصة انستجرام قبل الإطلاق الرسمي للمكتبة بحاولي 18 شهرًا... و وجدوا أنها قدمت لهم حلًا رائعًا يمكن الإعتماد عليه لذلك قرروا جعلها مشروع مفتوح المصدر ومشاركة ما توصلوا إليه مع جميع المطورين الآخرين.

### ردة الفعل
عندما تأتي بفكرة جديدة خارجة عن المعتاد في ذلك الوقت، سترى أن العديد لن يتفق معك، وهذا ما حدث تمامًا مع رياكت العديد من التعليقات الناس الذين عبرو أنهم لم يحبوا الطريقة التي جاءت بها رياكت بدمج المنطق البرمجي (Logic) مع القالب المرئي (Display template) وأشار بيّت هات في لقاء له على JSConf EU 2013 -لقاء حدث بعد عدة أشهر من اللقاء الاولى الذي أطلقت فيه رياكت- إلى سوء فهم حصل من الناس حيث أنهم تعودوا على فصل الصفحات على أساس أنها قوالب وليست مُكونات، لذلك لم يعجبوا بهذا النمط من التصميم.


<script type="application/ld+json" set:text={`Hello`}>
    
</script>